function initPreloader(e){let t=gsap.context((()=>{console.log("🗿 initPreloader() 실행 시작");const t=document.querySelector(".pre-loader"),r=document.querySelector(".pre-loader-counter"),o=document.querySelector(".pre-loader-img");if(!t||!r)return console.log("🗿? preloader 요소가 없음"),void e();let n={value:0},a=document.querySelectorAll("img"),s=a.length,c=0;function i(){let t=Math.round(c/s*100);gsap.to(n,{value:t,duration:.5,ease:"power2.out",onUpdate:()=>{r.textContent=`${Math.round(n.value)}%`}}),t>=100&&(console.log("🗿 Preloader 완료, startApp() 실행 준비 시작"),e())}o.classList.add("on"),r.classList.add("on"),console.log(`🗿 총 이미지 개수: ${s}`),a.forEach((e=>{e.complete?(c++,i()):(e.onload=()=>{c++,i()},e.onerror=()=>{console.warn(`❌ 이미지 로드 실패: ${e.src}`),c++,i()})})),0===s&&(console.log("이미지 없음, Preloader 즉시 종료"),e())}));return()=>t.revert()}function progressBar(){let e=gsap.context((()=>{gsap.to("progress",{value:100,ease:"none",scrollTrigger:{scrub:.3}})}));return()=>e.revert()}function menuBtn(){let e=gsap.context((()=>{let e,t=document.querySelector(".header_menu"),r=document.querySelector("html"),o=document.getElementById("menu_bg"),n=document.querySelector(".logo-transform"),a=document.querySelector("#clayn_nav ul"),s=(document.querySelectorAll("#clayn_nav ul .item"),document.querySelector(".sns_wrapper"));t.addEventListener("click",(()=>{o.classList.toggle("hide"),r.classList.toggle("has-menu-bg"),r.classList.contains("has-menu-bg")?n.classList.contains("not-entered")&&(gsap.to(n,{yPercent:0,scale:1,duration:.6,ease:"power2.out"}),n.classList.add("onActive")):n.classList.contains("onActive")&&(gsap.to(n,{yPercent:200,scale:3,duration:.6,ease:"power2.out"}),n.classList.remove("onActive")),a.classList.toggle("on"),clearTimeout(e),e=setTimeout((function(){a.classList.contains("on")?s.classList.add("on"):s.classList.remove("on")}),150)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&r.classList.contains("has-menu-bg")&&t.click()}))}));return()=>e.revert()}function letsSee(){let e=gsap.context((()=>{let e=document.getElementById("featured_products_section").querySelector(".clayn_btn"),t=document.querySelector(".big_products_swiper_wrapper");e.addEventListener("click",(()=>{gsap.to(window,{scrollTo:t,duration:1,ease:"power2.inOut"})}))}));return()=>e.revert()}function skewTheNav(){let e=gsap.context((()=>{document.querySelectorAll(".menu_bg li span a").forEach((e=>{let t=0;e.addEventListener("mousemove",(r=>{let o=r.clientX,n=o-t,a=Math.max(-10,Math.min(10,6*-n));gsap.to(e,{skewX:a,duration:.3,ease:"power2.out"}),t=o})),e.addEventListener("mouseleave",(()=>{gsap.to(e,{skewX:0,duration:.6,ease:"power2.out"})}))}))}));return()=>e.revert()}function logoTranslate(){let e=gsap.context((()=>{const e=document.querySelector(".logo-transform");e.classList.add("not-entered"),gsap.from(e,{yPercent:200,scale:3,duration:1,scrollTrigger:{trigger:e,start:"top top",end:"+=80",markers:!1,id:"logo",scrub:.5,onUpdate:t=>{0===t.progress?e.classList.add("not-entered"):1===t.progress&&e.classList.remove("not-entered")}}})}));return()=>e.revert()}function letLogoFillCg(){let e=gsap.context((()=>{const e=document.querySelector(".logo_g"),t=document.querySelectorAll(".header_nav_btn span"),r=document.querySelector(".bucket_path");let o=ScrollTrigger.getById("logoFillTrigger");o&&o.kill(),ScrollTrigger.create({id:"logoFillTrigger",trigger:"#intro_video_wrapper",start:"-40px top",end:"+=6000",markers:!1,scrub:!0,onEnter:()=>{e.classList.add("on"),t.forEach((e=>e.classList.add("on"))),r.classList.add("on")},onLeave:()=>{gsap.delayedCall(1.5,(()=>{e.classList.remove("on"),t.forEach((e=>e.classList.remove("on"))),r.classList.remove("on")}))},onEnterBack:()=>{e.classList.add("on"),t.forEach((e=>e.classList.add("on"))),r.classList.add("on")},onLeaveBack:()=>{e.classList.remove("on"),t.forEach((e=>e.classList.remove("on"))),r.classList.remove("on")}})}));return()=>e.revert()}function introBgVdTxt(){let e=gsap.context((()=>{const e=document.querySelector("#intro_video_wrapper"),t=gsap.utils.toArray(".intro_text"),r=gsap.timeline();t.forEach(((e,t)=>{r.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:1.5,ease:"power3.out"},3*t).to(e,{opacity:0,y:-30,duration:1.5,ease:"power3.in"},3*t+1.5)})),ScrollTrigger.create({animation:r,trigger:e,start:"top top",end:"+=6000",scrub:!0,pin:!0,markers:!1,anticipatePin:1})}));return()=>e.revert()}function brand_introduce_section(){let e=gsap.context((()=>{const e=document.querySelector("#brand_introduce_section");gsap.killTweensOf("#brand_introduce_section .person, #brand_introduce_section .number, #brand_introduce_section .text");let t=ScrollTrigger.getById("brandIntroduceTrigger");t&&t.kill();const r=gsap.timeline({scrollTrigger:{id:"brandIntroduceTrigger",trigger:e,start:"0px top",end:"+=8000",scrub:.5,pin:!0,anticipatePin:1,markers:!1,lazy:!1}}),o=gsap.utils.toArray("#brand_introduce_section .number"),n=window.matchMedia("(orientation: portrait)").matches?gsap.utils.toArray("#brand_introduce_section .personB"):gsap.utils.toArray("#brand_introduce_section .personA"),a=gsap.utils.toArray("#brand_introduce_section .text");o.forEach(((e,t)=>{r.fromTo(o[t],{x:"2000px",opacity:0},{x:0,opacity:1,duration:1,ease:"linear"},3*t).to(o[t],{x:"-2000px",opacity:0,duration:1,ease:"linear"},3*t+3).fromTo(n[t],{x:"-2000px",opacity:0},{x:0,opacity:1,duration:1,ease:"linear"},3*t).to(n[t],{x:"2000px",opacity:0,duration:1,ease:"linear"},3*t+3).fromTo(a[t],{x:"-2000px",opacity:0},{x:0,opacity:1,duration:1,ease:"linear"},3*t).to(a[t],{x:"-2000px",opacity:0,duration:1,ease:"linear"},3*t+3)}))}));return()=>e.revert()}function article_animate(){let e=gsap.context((()=>{const e=document.querySelectorAll("#featured_products_section article");document.querySelector("#featured_products_section .article1");gsap.utils.toArray(e).forEach(((e,t)=>{ScrollTrigger.create({trigger:e,start:"top top",pin:!0,pinSpacing:!1,markers:!1})}))}));return()=>e.revert()}function letFeaturedVisible(){let e=gsap.context((()=>{const e=document.querySelector("#featured_products_section"),t=document.querySelector("#featured_products_section .article1 .element_gutter");gsap.set(t,{autoAlpha:0,y:50,willChange:"transform, opacity"}),gsap.to(t,{autoAlpha:1,y:0,duration:1.5,ease:"expo.out",scrollTrigger:{trigger:e,start:"top 60%",end:"+=10% top",toggleActions:"play none none reverse",markers:!1,id:"element_gutter_trigger"}})}));return()=>e.revert()}function article2_animate(){let e=gsap.context((()=>{document.querySelector("#featured_products_section .black-wall");const e=document.querySelector("#featured_products_section .article1"),t=document.querySelector("#featured_products_section .article2");document.querySelector("#featured_products_section"),gsap.utils.toArray("#featured_products_section ul li");!function(){const e=gsap.timeline();e.fromTo([t],{opacity:0},{opacity:1,duration:1}),ScrollTrigger.create({animation:e,trigger:t,start:"top bottom",end:"bottom top",scrub:!0,markers:!1})}(),function(){const r=gsap.timeline();r.fromTo(e,{opacity:1},{opacity:0,duration:1}),ScrollTrigger.create({animation:r,trigger:t,start:"top bottom",end:"bottom top",scrub:!0,markers:!1})}()}));return()=>e.revert()}function startMarquee(){let e=gsap.context((()=>{let e=document.querySelector(".sec3_products_marquee2").querySelectorAll("ul"),t=document.querySelector("#swiper_products_section"),r=[];e.forEach((e=>{gsap.set(e,{xPercent:-100})})),document.querySelectorAll(".sec3_products_marquee1, .sec3_products_marquee2").forEach((e=>{e.querySelectorAll("ul").forEach((t=>{let o=gsap.to(t,{xPercent:e.classList.contains("sec3_products_marquee1")?-100:0,duration:60,repeat:-1,ease:"linear",paused:!0});r.push(o),e.addEventListener("mouseenter",(()=>{o.timeScale(.3)})),e.addEventListener("mouseleave",(()=>{o.timeScale(1)}))}))})),ScrollTrigger.create({trigger:t,start:"top 90%",end:"bottom 10%",onEnter:()=>{r.forEach((e=>e.play()))},onLeave:()=>{r.forEach((e=>e.pause()))},onEnterBack:()=>{r.forEach((e=>e.play()))},onLeaveBack:()=>{r.forEach((e=>e.pause()))}})}));return()=>e.revert()}function artticle2_ul(){let e=gsap.context((()=>{gsap.utils.toArray("#featured_products_section ul li").forEach(((e,t)=>{gsap.set(e,{willChange:"transform, opacity"}),gsap.fromTo(e,{autoAlpha:0,y:50},{autoAlpha:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",scrub:.5,markers:!1,onEnter:()=>{e.style.willChange="transform, opacity"},onEnterBack:()=>{e.style.willChange="transform, opacity"},onLeave:()=>{e.style.removeProperty("will-change")},onLeaveBack:()=>{e.style.removeProperty("will-change")}}})}))}));return()=>e.revert()}function letActiveHorny(){let e=gsap.context((()=>{let e=document.querySelector("#forgiveMyLack"),t=document.querySelectorAll(".swiper-float-div"),r=document.querySelector(".swiper-slide-active"),o=(document.querySelectorAll(".swiper-slide:not(.swiper-slide-active)"),document.querySelector(".swiper-slide.swiper-slide-active .fill"),document.querySelectorAll(".lackness")),n=document.querySelector(".swiper-gimmick"),a=document.querySelector(".sec3_products_marquee_wrapper"),s=document.querySelector(".big_products_swiper_wrapper");gsap.killTweensOf(".swiper-slide, .lackness, .big_products_swiper_wrapper, .swiper-float-div, .swiper-gimmick, .sec3_products_marquee_wrapper"),["BigToSmall","SmallToNormal","goDownFill"].forEach((e=>{let t=ScrollTrigger.getById(e);t&&t.kill()})),function(){let o=gsap.timeline();o.fromTo(t,{opacity:0},{opacity:1,duration:.1}),ScrollTrigger.create({animation:o,trigger:e,start:"bottom+=1250px top",markers:!1,toggleActions:"play none none reverse",onEnter:()=>{r=document.querySelector(".swiper-slide-active"),r.classList.add("hover-enabled")},onLeaveBack:()=>{r=document.querySelector(".swiper-slide-active"),r.classList.remove("hover-enabled")}})}(),function(){let t=gsap.timeline();t.fromTo(n,{opacity:1},{opacity:0}),ScrollTrigger.create({animation:t,trigger:e,start:"bottom+=800px top",end:"+=1200",scrub:.5,markers:!1})}(),gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.5,markers:!1,id:"BigToSmall",lazy:!1}}).fromTo(o,{scaleX:5,scaleY:3},{scaleX:3,scaleY:3}),gsap.timeline({scrollTrigger:{trigger:e,start:"bottom+=10px top",end:"+=1500",scrub:.5,markers:!1,id:"SmallToNormal",lazy:!1}}).fromTo(o,{scaleX:3,scaleY:3},{scaleX:1,scaleY:1}),gsap.timeline({scrollTrigger:{trigger:e,start:"bottom+=1450 top",end:"+=100",scrub:.5,markers:!1,id:"goDownFill",lazy:!1}}).to(s,{top:"75%",yPercent:-75,ease:"none"}),function(){let t=gsap.timeline();t.fromTo(a,{opacity:0},{opacity:1,duration:1.5}),ScrollTrigger.create({animation:t,trigger:e,start:"bottom+=1600px top",markers:!1,toggleActions:"play none none reverse"})}()}));return()=>e.revert()}function letSec4IconVisible(){let e=gsap.context((()=>{!function(){const e=document.querySelectorAll(".icon-wrapper"),t=document.querySelector(".sec4article");let r=gsap.utils.toArray(e);const o=gsap.timeline({scrollTrigger:{trigger:t,markers:!1,start:"top 55%",toggleActions:"play none none reset"},ease:"power4.out"});o.from(r[0],{opacity:0,duration:.15}),o.from(r[1],{opacity:0,duration:.15},"-=.01"),o.from(r[2],{opacity:0,duration:.15},"-=.02"),o.from(r[3],{opacity:0,duration:.15},"+=.04"),o.from(r[4],{opacity:0,duration:.15},"+=.08"),o.from(r[5],{opacity:0,duration:.15},"+=.13")}(),function(){const e=document.querySelectorAll(".CTA_wrapper > div");gsap.utils.toArray(e),e.forEach((e=>{let t=gsap.timeline();t.from(e,{autoAlpha:0,duration:.8,ease:"ease-in"}),ScrollTrigger.create({animation:t,trigger:e,start:"top 80%",toggleActions:"play none none reverse",markers:!1})}))}()}));return()=>e.revert()}function sec5(){let e=gsap.context((()=>{const e=document.querySelector("#thank_you_path"),t=document.querySelector("#thank_you_section"),r=t.querySelector(".lookup"),o=t.querySelector(".sec4h2");!function(){const t=gsap.timeline({scrollTrigger:{trigger:r,start:"top 40%",toggleActions:"play none none reset",markers:!1}});t.fromTo(e,{strokeDasharray:"4739.13916015625",strokeDashoffset:"4739.13916015625"},{strokeDashoffset:"0",duration:1.6,ease:"power2.out"}),t.from(o,{opacity:0,duration:.5,ease:"ease2.in"})}()}));return()=>e.revert()}function sec6(){let e=gsap.context((()=>{const e=document.querySelector("#my-sign-path"),t=(document.querySelector(".my-sign"),document.querySelector("#about_section").querySelector("figure"));gsap.fromTo(e,{strokeDasharray:"1890.7489013671875",strokeDashoffset:"1890.7489013671875"},{strokeDashoffset:"0",duration:1,ease:"ease2.out",scrollTrigger:{trigger:t,start:"top 50%",markers:!1,toggleActions:"play none none reset"}})}));return()=>e.revert()}function footerAnimate(){let e=gsap.context((()=>{document.querySelector("main"),document.querySelector("#footer-section");let e=document.querySelector("#footer-section");ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",scrub:!0,markers:!1,onUpdate:t=>{let r=t.progress.toFixed(3);e.style.setProperty("--progress",r)}})}));return()=>e.revert()}function initAnimations(){console.log("🗿 initAnimations() 실행됨!"),logoTranslate(),introBgVdTxt(),letLogoFillCg(),brand_introduce_section(),article_animate(),letFeaturedVisible(),article2_animate(),artticle2_ul(),letSec4IconVisible(),sec5(),sec6(),footerAnimate(),progressBar(),menuBtn(),skewTheNav(),letsSee(),startMarquee(),letActiveHorny()}gsap.registerPlugin(ScrollTrigger);export{initAnimations,initPreloader};